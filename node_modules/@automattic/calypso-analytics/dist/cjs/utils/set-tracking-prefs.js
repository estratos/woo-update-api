"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const cookie_1 = tslib_1.__importDefault(require("cookie"));
const get_tracking_prefs_1 = tslib_1.__importStar(require("./get-tracking-prefs"));
const COOKIE_MAX_AGE = 60 * 60 * 24 * (365.25 / 2); /* six months; 365.25 -> avg days in year */
const setTrackingPrefs = (newPrefs) => {
    const { ok, buckets } = (0, get_tracking_prefs_1.default)();
    const newOptions = {
        ok: typeof newPrefs.ok === 'boolean' ? newPrefs.ok : ok,
        buckets: {
            ...buckets,
            ...newPrefs.buckets,
        },
    };
    document.cookie = cookie_1.default.serialize(get_tracking_prefs_1.TRACKING_PREFS_COOKIE_V2, JSON.stringify(newOptions), {
        path: '/',
        maxAge: COOKIE_MAX_AGE,
    });
    return newOptions;
};
exports.default = setTrackingPrefs;
//# sourceMappingURL=set-tracking-prefs.js.map