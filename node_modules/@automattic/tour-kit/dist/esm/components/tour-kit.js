import { jsx as _jsx } from "react/jsx-runtime";
// import { TourKitContextProvider } from './tour-kit-context';
import { createPortal, useEffect, useRef } from '@wordpress/element';
import ErrorBoundary from '../error-boundary';
import TourKitContextProvider from './tour-kit-context';
import TourKitFrame from './tour-kit-frame';
import '../styles.scss';
const TourKit = ({ config, __temp__className }) => {
    const portalParent = useRef(document.createElement('div')).current;
    useEffect(() => {
        const classes = ['tour-kit', ...(__temp__className ? [__temp__className] : [])];
        portalParent.classList.add(...classes);
        const portalParentElement = config.options?.portalParentElement || document.body;
        portalParentElement.appendChild(portalParent);
        return () => {
            portalParentElement.removeChild(portalParent);
        };
    }, [__temp__className, portalParent, config.options?.portalParentElement]);
    return (_jsx(ErrorBoundary, { children: _jsx(TourKitContextProvider, { config: config, children: _jsx("div", { children: createPortal(_jsx(TourKitFrame, { config: config }), portalParent) }) }) }));
};
export default TourKit;
//# sourceMappingURL=tour-kit.js.map