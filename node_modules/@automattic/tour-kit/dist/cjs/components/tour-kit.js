"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
// import { TourKitContextProvider } from './tour-kit-context';
const element_1 = require("@wordpress/element");
const error_boundary_1 = tslib_1.__importDefault(require("../error-boundary"));
const tour_kit_context_1 = tslib_1.__importDefault(require("./tour-kit-context"));
const tour_kit_frame_1 = tslib_1.__importDefault(require("./tour-kit-frame"));
require("../styles.scss");
const TourKit = ({ config, __temp__className }) => {
    const portalParent = (0, element_1.useRef)(document.createElement('div')).current;
    (0, element_1.useEffect)(() => {
        const classes = ['tour-kit', ...(__temp__className ? [__temp__className] : [])];
        portalParent.classList.add(...classes);
        const portalParentElement = config.options?.portalParentElement || document.body;
        portalParentElement.appendChild(portalParent);
        return () => {
            portalParentElement.removeChild(portalParent);
        };
    }, [__temp__className, portalParent, config.options?.portalParentElement]);
    return ((0, jsx_runtime_1.jsx)(error_boundary_1.default, { children: (0, jsx_runtime_1.jsx)(tour_kit_context_1.default, { config: config, children: (0, jsx_runtime_1.jsx)("div", { children: (0, element_1.createPortal)((0, jsx_runtime_1.jsx)(tour_kit_frame_1.default, { config: config }), portalParent) }) }) }));
};
exports.default = TourKit;
//# sourceMappingURL=tour-kit.js.map