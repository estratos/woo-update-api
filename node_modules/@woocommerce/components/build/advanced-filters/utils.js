"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.textContent = void 0;
/**
 * External dependencies
 */
const lodash_1 = require("lodash");
/**
 * DOM Node.textContent for React components
 * See: https://github.com/rwu823/react-addons-text-content/blob/master/src/index.js
 *
 * @param {Array<string|Node>} components array of components
 *
 * @return {string} concatenated text content of all nodes
 */
function textContent(components) {
    let text = '';
    const toText = (component) => {
        if ((0, lodash_1.isString)(component) || (0, lodash_1.isNumber)(component)) {
            text += component;
        }
        else if ((0, lodash_1.isArray)(component)) {
            component.forEach(toText);
        }
        else if (component && component.props) {
            const { children } = component.props;
            if ((0, lodash_1.isArray)(children)) {
                children.forEach(toText);
            }
            else {
                toText(children);
            }
        }
    };
    toText(components);
    return text;
}
exports.textContent = textContent;
