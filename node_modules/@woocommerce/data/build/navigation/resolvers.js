"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFavorites = void 0;
/**
 * External dependencies
 */
const data_controls_1 = require("@wordpress/data-controls");
/**
 * Internal dependencies
 */
const actions_1 = require("./actions");
const constants_1 = require("../constants");
function* getFavorites() {
    yield (0, actions_1.getFavoritesRequest)();
    try {
        const results = yield (0, data_controls_1.apiFetch)({
            path: `${constants_1.WC_ADMIN_NAMESPACE}/navigation/favorites/me`,
        });
        if (results) {
            yield (0, actions_1.getFavoritesSuccess)(results);
            return;
        }
        throw new Error();
    }
    catch (error) {
        yield (0, actions_1.getFavoritesFailure)(error);
        throw new Error();
    }
}
exports.getFavorites = getFavorites;
